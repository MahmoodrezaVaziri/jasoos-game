
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>بازی جاسوس</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2rem; background: #f0f0f0; }
    #game { display: none; margin-top: 20px; }
    button { padding: 10px 20px; font-size: 18px; margin: 10px; }
    .hidden { display: none; }
  </style>
</head>
<body>

  <h1>🕵️ بازی جاسوس با کلمات فارسی</h1>

  <label>تعداد بازیکنان: <input type="number" id="playerCount" min="3" max="20" value="6"></label><br>
  <label>دسته‌بندی: 
    <select id="category">
      <option value="fruits">میوه‌ها</option>
      <option value="objects">اشیاء</option>
      <option value="jobs">شغل‌ها</option>
    </select>
  </label><br>
  <button onclick="startGame()">شروع بازی</button>

  <div id="game">
    <h2 id="playerLabel">بازیکن شماره 1، دکمه را بزن</h2>
    <button onclick="revealWord()">نمایش کلمه</button>
    <div id="wordBox" class="hidden"><p id="word"></p></div>
    <button onclick="nextPlayer()" id="nextBtn" class="hidden">بازیکن بعدی</button>
  </div>

  <script>
    const words = {
      fruits: ["سیب", "موز", "انگور", "هندوانه", "پرتقال"],
      objects: ["کتاب", "صندلی", "مداد", "عینک", "ساعت"],
      jobs: ["پزشک", "مهندس", "راننده", "آشپز", "معلم"]
    };

    let current = 0, totalPlayers = 0, assignedWords = [];

    function startGame() {
      const category = document.getElementById('category').value;
      const wordList = words[category];
      const secretWord = wordList[Math.floor(Math.random() * wordList.length)];
      totalPlayers = parseInt(document.getElementById('playerCount').value);
      const spyIndex = Math.floor(Math.random() * totalPlayers);

      assignedWords = Array.from({length: totalPlayers}, (_, i) => 
        i === spyIndex ? "شما جاسوس هستید!" : secretWord
      );

      assignedWords = assignedWords.sort(() => Math.random() - 0.5);

      current = 0;
      document.getElementById('game').style.display = 'block';
      document.getElementById('playerLabel').textContent = `بازیکن شماره 1، دکمه را بزن`;
      document.getElementById('wordBox').classList.add('hidden');
      document.getElementById('nextBtn').classList.add('hidden');
    }

    function revealWord() {
      document.getElementById('word').textContent = assignedWords[current];
      document.getElementById('wordBox').classList.remove('hidden');
      document.getElementById('nextBtn').classList.remove('hidden');
    }

    function nextPlayer() {
      current++;
      if (current < totalPlayers) {
        document.getElementById('playerLabel').textContent = `بازیکن شماره ${current + 1}، دکمه را بزن`;
        document.getElementById('wordBox').classList.add('hidden');
        document.getElementById('nextBtn').classList.add('hidden');
      } else {
        document.getElementById('playerLabel').textContent = "همه کلمات نمایش داده شد. حالا جاسوس را پیدا کنید!";
        document.getElementById('wordBox').classList.add('hidden');
        document.getElementById('nextBtn').classList.add('hidden');
      }
    }
  </script>

</body>
</html>
